# モバイルテーマ（ライト化）現状分析と実装計画

## 現状分析
- モバイルアプリは Expo/React Native 構成で、`apps/mobile` 配下が実装の中心。テーマは `apps/mobile/constants/theme.ts` の `Colors` でライト/ダークを定義。画面・コンポーネントは `useThemeColor` を介して `Colors[theme]` を参照している。
- `useColorScheme` は `react-native` のシステムテーマに追従しており、`use-theme-color` が「ライト/ダーク」を切り替える仕組み。Web では初期描画時に `light` へフォールバック。
- 一部コンポーネント/画面でハードコードのカラーがあり（例: `#ffffff`, `#111827`, `#6b7280` など）、テーマ依存と固定色が混在しているため、ライト/ダークの基準が一貫していない。

## 課題
- 現状はダークテーマ基準の配色が主で、ライトテーマ上での可読性が低い。
- 固定色の白背景・濃色テキストが混在し、ライトテーマに統一した際に色の不整合が出やすい。

## 実装計画（高レベル）
1. **テーマ強制の方針決定**
   - モバイル版で `useColorScheme` を常に `"light"` に固定するか、`useThemeColor` の参照先をライトに統一する方針を決める。
2. **テーマ定数の整理**
   - `constants/theme.ts` のライト配色を基準に、必要に応じて `surface`/`text`/`border`/`state` 系の色を調整。
3. **ハードコード色の置き換え**
   - 画面/コンポーネント内の固定色を `useThemeColor` または `Colors.light` のトークンに置換し、ライトテーマに統一。
4. **視認性チェック**
   - 主要画面（ホーム、検索、プロジェクト詳細、プロフィールなど）でコントラストと背景色の一貫性を確認。
5. **品質チェック**
   - ESLint/formatter の実行を必須とし、エラーがないことを確認。

## 対象範囲（候補）
- `apps/mobile/constants/theme.ts`
- `apps/mobile/hooks/use-color-scheme.ts`
- `apps/mobile/hooks/use-theme-color.ts`
- `apps/mobile/app/**`、`apps/mobile/components/**`

## 期待する完了条件
- モバイルアプリがライトテーマに統一され、ダーク基準の配色が残っていないこと。
- 固定色が最小化され、テーマトークン経由で配色が管理されていること。
- Lint/formatter が通ること。

## UI/UX 改善点（世界最高峰水準に向けて）
- **視認性とコントラストの最適化**: ライトテーマを基準に、背景/テキスト/境界線のコントラスト比を統一し、視線誘導の階層（primary/secondary/tertiary）を明確化する。
- **情報密度の調整**: 一覧カードやメタ情報の余白・行間を再設計し、重要度に応じて表示密度を段階化する。
- **インタラクションの一貫性**: ボタン、チップ、フィルター、トグルなどの状態（hover/pressed/disabled/selected）をトークン化して統一する。
- **空状態とエンプティステート**: 空状態（Empty State）に対するガイド文言とアクション導線を強化し、次の行動を明確にする。
- **アクセシビリティ**: フォントサイズ/タップ領域/色覚多様性への配慮をトークン設計で担保し、WCAG を意識した配色へ寄せる。
- **フィードバックの即時性**: ローディング/トースト/スナックバーなどの状態表示を統一し、操作結果の把握を即時化する。

## UI/UX 改善点レビュー（多角的評価と抜け漏れ）
### 観点別の網羅性チェック
- **情報設計（IA）/ナビゲーション**: 階層構造の明確化、戻る導線、検索/フィルタの優先順位整理が未記載。
- **コンテンツ設計/マイクロコピー**: 説明文・エラー文言・空状態メッセージの語彙統一や、行動を促すコピー改善が未記載。
- **操作性/ジェスチャー**: スワイプ、長押し、ドラッグなどの操作体系と学習コストの評価が未記載。
- **モーション/アニメーション**: 画面遷移や状態変化のモーション設計による理解促進が未記載。
- **パフォーマンス体験**: 初期表示速度、一覧のスクロール性能、画像/アイコン最適化などの体感速度改善が未記載。
- **パーソナライズ**: ユーザーごとのホームや通知の最適化、既読・お気に入りの記憶などの体験強化が未記載。
- **信頼性/エラーハンドリング**: ネットワーク不安定時のフォールバックやリトライ導線が未記載。
- **オフライン/低帯域対応**: オフライン時の閲覧可否、同期タイミングの説明が未記載。
- **ローカライズ/国際化**: 言語切り替えや文化圏の表現差への配慮が未記載。
- **セキュリティ/プライバシー体験**: 権限要求の説明、データ取扱いの透明性が未記載。

### 追加提案（抜け漏れ補完）
- **情報設計の再定義**: タブや詳細画面の階層を整理し、主要タスクへの最短導線を設計する。
- **マイクロコピー刷新**: エラーメッセージ、空状態文言、成功時のフィードバックを統一し、行動喚起を明確化する。
- **モーション設計**: 遷移・展開・選択状態に一貫したアニメーションを付与し、状態変化を理解しやすくする。
- **体感パフォーマンス向上**: スケルトン表示や先読み、画像最適化で待ち時間の不快感を軽減する。
- **信頼性の強化**: 失敗時のリカバリー（再試行、オフライン表示）と、状態保持の設計を追加する。
- **パーソナライズ**: よく使うフィルタの保存や最近閲覧の提示で、継続利用の体験を向上させる。

## 実装タスクリストの完全性評価（プラン照合）
### 充足している観点
- **テーマ基盤の整理**: `useColorScheme` 方針決定、`Colors.light` 基準整理、`Colors.dark` の扱いがタスク化済み。
- **ハードコード色の排除**: 画面/コンポーネントの置換と例外ルールの定義がタスク化済み。
- **主要画面の統一**: 認証・主要タブ・詳細画面の統一がタスク化済み。
- **UI/UX 改善の主要項目**: 情報階層、状態表現、空状態、アクセシビリティが明示済み。
- **品質チェック**: lint/typecheck がタスク化済み。

### 追加すべき観点（不足）
- **実装後の回帰確認**: 主要画面のスクリーンショット比較と UI 目視確認のタスクが不足。
- **トークン設計のドキュメント化**: トークンの命名規約や利用方針をドキュメント化するタスクが不足。
- **ナビゲーション/IA の再検証**: 改善観点として挙がっている IA を実装タスクに具体化する必要がある。
- **マイクロコピー/文言レビュー**: 文言の統一とレビュー作業の実施タスクが不足。
- **パフォーマンス計測**: 体感性能改善のための測定/基準（Lighthouse/プロファイル）を定義するタスクが不足。
